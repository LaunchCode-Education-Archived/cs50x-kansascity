<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

<<<<<<< HEAD
        <title>LaunchCode&#039;s CS50x - Kansas City</title>

        <link rel="stylesheet" href="http://education.launchcode.org/cs50x-kansascity/css/bootstrap.min.css">
        <link rel="stylesheet" href="http://education.launchcode.org/cs50x-kansascity/css/font-awesome.min.css">
        <link rel="stylesheet" href="http://education.launchcode.org/cs50x-kansascity/css/highlight.dark.css">
        <link rel="stylesheet" href="http://education.launchcode.org/cs50x-kansascity/css/main.css">
=======
        <title>LaunchCode&#039;s CS50x - St. Louis</title>

        <link rel="stylesheet" href="http://education.launchcode.org/cs50x-stlouis/css/bootstrap.min.css">
        <link rel="stylesheet" href="http://education.launchcode.org/cs50x-stlouis/css/font-awesome.min.css">
        <link rel="stylesheet" href="http://education.launchcode.org/cs50x-stlouis/css/highlight.dark.css">
        <link rel="stylesheet" href="http://education.launchcode.org/cs50x-stlouis/css/main.css">
>>>>>>> upstream/master
    </head>
    <body>

        <header class="navbar navbar-default navbar-fixed-top">

<<<<<<< HEAD
            <a class="navbar-brand" href="http://education.launchcode.org/cs50x-kansascity/">
                LaunchCode&#039;s CS50x - Kansas City
=======
            <a class="navbar-brand" href="http://education.launchcode.org/cs50x-stlouis/">
                LaunchCode&#039;s CS50x - St. Louis
>>>>>>> upstream/master
            </a>

        </header>

        <main class="container-fluid">
            <div class="row">

                
                    <nav id="sidebar" class="col-sm-3 col-lg-2" role="navigation">

                        <ul class="nav nav-pills nav-stacked">
                                                            <li class="">
<<<<<<< HEAD
                                    <a href="https://docs.google.com/document/d/10bCxIARYUvh84GuoM4nscDZDMqeasaBBLmwckA3qTnA/edit?usp=sharing">
                                        Student Guide
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="http://education.launchcode.org/cs50x-kansascity/how-to-take-this-class/">
=======
                                    <a href="http://education.launchcode.org/cs50x-stlouis/calendar/">
                                        Calendar
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="http://education.launchcode.org/cs50x-stlouis/how-to-take-this-class/">
>>>>>>> upstream/master
                                        How To Take This Class
                                    </a>
                                </li>
                                                            <li class="">
<<<<<<< HEAD
                                    <a href="http://education.launchcode.org/cs50x-kansascity/calendar/">
                                        Calendar
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="http://education.launchcode.org/cs50x-kansascity/helpful-resources/">
=======
                                    <a href="http://education.launchcode.org/cs50x-stlouis/helpful-resources/">
>>>>>>> upstream/master
                                        Helpful Resources
                                    </a>
                                </li>
                                                            <li class="">
<<<<<<< HEAD
                                    <a href="http://sce2.umkc.edu/BIT/burrise/cs50/">
                                        KC Resources
                                    </a>
                                </li>
                                                            <li class="">
=======
>>>>>>> upstream/master
                                    <a href="http://cs50.io/">
                                        CS50 IDE
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="https://labs.vocareum.com/home/login.php">
                                        Vocareum
                                    </a>
                                </li>
                                                            <li class="">
<<<<<<< HEAD
                                    <a href="https://piazza.com/launchcode/spring2016/cs50">
                                        Piazza
                                    </a>
                                </li>
=======
                                    <a href="http://piazza.com/wustl/spring2016/cs50x">
                                        Piazza
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="https://docs.google.com/document/d/1rQNoQcbbn6K9kcaFMiS-vE2Uw1Qi2V8EQOPuZv1YMMk/edit?usp=sharing">
                                        Student Guide
                                    </a>
                                </li>
>>>>>>> upstream/master
                                                    </ul>

                    </nav>

                
                <section id="content" class="col-sm-offset-3 col-lg-offset-2 col-sm-9 col-lg-10">
                    <h5 id="web-track">Web Track</h5>
<<<<<<< HEAD
<p><a href="../../class2">Back to Class 2</a></p>
<h1 id="studio-flicklist-2">Studio: FlickList 2</h1>
<p>Today we will add a hodge-podge of miscellaneous new features to our movie site. We'll include some CSS to apply styles to the page, and build on our interaction with the API. </p>
<p>Along the way, hopefully you will continue to get more comfortable with jQuery, CSS, AJAX, making API calls, and working with HTML forms.</p>
<h3 id="demo">Demo</h3>
<p>Here is a demo of what you are trying to accomplish: <a href="http://htmlpreview.github.io/?https://github.com/LaunchCodeEducation/flicklist/blob/f3dae711763c73f56267ac35e076c56383183829/index.html" target="_blank">FlickList 2 Demo</a>. Play around with the demo for a minute and get familiar with its features. Also, keep the demo open in a separate window, so you can refer to it while working on the assignment.</p>
<p>Note the following additions since last time:</p>
<ul>
<li>In the browse list, each movie is accompanied by a paragraph summarizing its plot.</li>
<li>Once the user clicks the &quot;Add to Watchlist&quot; button for a movie, the button then becomes disabled, preventing the same movie from being added more than once.</li>
<li>In the watchlist, each movie is represented by an orange rectangle. These rectangles line up next to each other from left to right, without skipping down to a new line until they run out of space on the right-hand side of their container.</li>
<li>The page has some styles and is a little prettier than before.</li>
<li>At the top of the browselist, there is a search bar which users can use to search for particular movies. Upon submitting the form, the browse list repopulates full of movies with matching titles.</li>
</ul>
<h3 id="git-yer-hands-on-the-starter-code">Git Yer Hands on the Starter Code</h3>
<p>Same procedure as usual here. First, fetch the studio2 branch from upstream:</p>
<pre><code class="language-nohighlight">$ git fetch upstream studio2
=======
<p><a href="../../class5">Back to Class 5</a></p>
<h1 id="studio-flicklist-4">Studio: FlickList 4</h1>
<p>Today we will make only a few changes, but they are tricky changes.</p>
<h3 id="demo">Demo</h3>
<p>Here is a demo of what you are trying to accomplish: <a href="http://htmlpreview.github.io/?https://github.com/LaunchCodeEducation/flicklist/blob/aa417bf89d29552d0e825605e99dd5dc1fb8e077/index.html" target="_blank">FlickList 4 Demo</a>. Play around with the demo for a minute and get familiar with its features. Also, keep the demo open in a separate window, so you can refer to it while working on the assignment.</p>
<p>Looks the same as last time! But if you have a sharp eye, you might have noticed one difference: the text of the search button has changed from &quot;Search by Title&quot; to &quot;Search by Topic&quot;. And indeed, the underlying functionality has changed as well. Say, for example, you wanted to browse for some vampire movies. In the <a href="http://htmlpreview.github.io/?https://github.com/LaunchCodeEducation/flicklist/blob/b19ea10df9355f8079047e8b1f48e0a8e31a2ba9/index.html" target="_blank">prevous version</a>, you could try searching for &quot;vampire&quot;, but you would only get results that literally had the word &quot;vampire&quot; in the title. That means no Twilight!! The new version will return any movies that prominently feature vampires, regardless of whether the word apepars in the title or not.</p>
<h3 id="the-api">The API</h3>
<p>So what are we doing differently under the hood to allow this new Search functionality? We are interacting with TheMovieDB's API a little differently than before. </p>
<h4 id="read-the-docs">Read the Docs</h4>
<p>Let's dive into this by interacting more deeply with the API documentation.</p>
<p>Up till now, we have been sending a request to their <a href="http://docs.themoviedb.apiary.io/#reference/search/searchmovie/get?console=1" target="_blank">/search/movie</a> endpoint, which you can see from the documentation (click that link above), is described as allowing you to &quot;Search for movies by title.&quot; </p>
<p>Great, so is there a different search endpoint that allows you to, say, &quot;search for movies by topic&quot;? </p>
<p>Not exactly. But the <a href="http://docs.themoviedb.apiary.io/#reference/discover/get?console=1">/discover/movie</a> endpoint does have an &quot;optional parameter&quot; that seems promising. Take a minute now, and browse quickly through that long list of optional parameters and see if you can spot it.</p>
<p>Did you find it? </p>
<p>The <code>with_keywords</code> parameter is described as such:</p>
<blockquote>
<p>&quot;Only include movies with the specified keywords. Expected value is an integer (the id of a keyword). Multiple values can be specified. Comma separated indicates an 'AND' query, while a pipe (|) separated value indicates an 'OR'.&quot;</p>
</blockquote>
<p>This cryptic explanation is telling us that with Discover, we can attach a parameter to our request specifying a &quot;keyword&quot; or a list of multiple keywords. The results we receive back will be filtered so that we only get movies that are tagged with the keywords. </p>
<p>But unfortunately it's not as simple as adding a key/value pair like: </p>
<pre><code class="language-nohighlight">with_keywords: "vampire"</code></pre>
<p>Rather than the word itself, like &quot;vampire&quot;, the API says the &quot;expected value is an integer (the id of a keyword)&quot;. So if we want to search for &quot;vampire&quot;, we actually need to pass in an <strong>id number</strong> like, say 954782, which is the official magic id number for the keyword &quot;vampire&quot;. </p>
<p>How the heck do we find that id number? There's a different endpoint set up specifically for this purpose: the <a href="http://docs.themoviedb.apiary.io/#reference/search/searchkeyword/get?console=1">/search/keyword</a> endpoint allows you to &quot;search for keywords by name&quot;. </p>
<p>Let's try one of these keyword searches. Notice that in the right-hand sidebar on the docs page, is an interactive console via which you can make calls to the API. If you click the green &quot;Call Resource&quot; button, it will make the call. Try it now.</p>
<p>You should receive a response like this:</p>
<pre><code class="language-nohighlight">{
  "status_code": 7,
  "status_message": "Invalid API key: You must be granted a valid key."
}</code></pre>
<p>Just like in our code, the call won't be successful unless we provide our API key as a parameter. In fact, you can see from the docs that this endpoint has two required parameters:</p>
<ul>
<li><code>api_key</code></li>
<li><code>query</code></li>
</ul>
<p>Go ahead and add those two parameters by clicking, above the green button, the text that says &quot;Add a new header&quot;. Paste in your api key as the value for the <code>api_key</code> key, and the word &quot;vampire&quot; as the value for the <code>query</code> key. Then try clicking again. You should hopefully now see a response containing some &quot;keyword&quot; objects, where each object has a &quot;name&quot; and &quot;id&quot;. The id looks like the magic number we need! </p>
<p>Now we can go back and try the Discover endpoint again, using keyword ids.</p>
<p>Try hitting up /discover/movie, including with the following extra parameters:</p>
<pre><code class="language-nohighlight">api_key: 123456789 (insert your api key here)
with_keywords 192305|210090|210092|210093</code></pre>
<p>Those numbers above are a handful of ids associated with &quot;vampire&quot;. The pipe character &quot;|&quot; in between them specifes that we are treating this as an &quot;Or&quot; scenario: we want results that have at least one of the associated ids-- in other words, we don't require that a movie has all of the keywords. </p>
<p>With this request, you should get back some movie objects with vampire-related movies!</p>
<p>So the overall proccess was:</p>
<ol>
<li>Get the keyword IDs for the search term</li>
<li>Include those keywords in a request to Discover</li>
</ol>
<h3 id="starter-code">Starter Code</h3>
<p>Same procedure as usual. First, fetch the studio4 branch from upstream:</p>
<pre><code class="language-nohighlight">$ git fetch upstream studio4
>>>>>>> upstream/master
remote: Counting objects: 21, done.
remote: Compressing objects: 100% (15/15), done.
remote: Total 21 (delta 6), reused 0 (delta 0), pack-reused 0
Unpacking objects: 100% (21/21), done.
From https://github.com/LaunchCodeEducation/flicklist
<<<<<<< HEAD
 * branch            studio2    -&gt; FETCH_HEAD
   74b1223..fe10c4f  studio2    -&gt; upstream/studio2</code></pre>
<p>Then, checkout a new local branch:</p>
<pre><code class="language-nohighlight">$ git checkout -b studio2-my-work upstream/studio2
Branch studio2-my-work set up to track remote branch studio2 from upstream.
Switched to a new branch 'studio2-my-work'</code></pre>
<h3 id="a-brief-tour">A Brief Tour</h3>
<p>Our project now looks like this:</p>
<pre><code class="language-nohighlight">$ tree
.
├── css
│   └── styles.css
├── index.html
└── js
    └── flicklist.js</code></pre>
<p>Notice the new directory, <code>css</code>, which contains a stylesheet, <code>styles.css</code>. </p>
<p>Let's look briefly at each of our files:</p>
<h5 id="indexhtml">index.html</h5>
<p>The HTML file has only changed slightly since we last left it:</p>
<ul>
<li>In the <code>&lt;head&gt;</code> there is now a link to our stylesheet. </li>
<li>In the browse section, we have a TODO, asking you to create a <code>&lt;form&gt;</code> for the user to search for movies</li>
<li>At the bottom, we have a <code>&lt;script&gt;</code> tag inside of which is some partially completed JS code with some more TODOs. This is where you will specify what the form should do when the user clicks the submit button.</li>
</ul>
<h5 id="flicklistjs">flicklist.js</h5>
<p>Our javascript file is also pretty similar to last time, with just a few changes:</p>
<ul>
<li>There is a new function, <code>searchMovies</code>, which will be invoked as part of the submit handler on the form (see above). The body of this function is pretty empty (so far!).</li>
<li>The <code>render</code> function has a few TODOs for you.</li>
</ul>
<p>Also notice inside <code>render</code> that we have re-written some of the jQuery code in a style that might seem a little funny. For example, this line:</p>
<pre><code class="language-js">var button = $("&lt;button&gt;&lt;/button&gt;")
   .text("Add to Watchlist")
   .click(function() {
     model.watchlistItems.push(movie);
     render();
   });</code></pre>
<p>or this one:</p>
<pre><code class="language-js">var itemView = $("&lt;li&gt;&lt;/li&gt;")
   .append($("&lt;hr/&gt;"))
   .append(title)
   .append(button);</code></pre>
<p>This is a common style for lines of code in which you are chaining together a bunch of jQuery method calls one after the other. When these chains become long enough, there comes a point where they will annoyingly run off the right edge of the screen. To mitigate that, the convention is to place each subsequennt method call on its own new line, indented once.</p>
<h5 id="stylescss">styles.css</h5>
<p>Finally, open up the new stylesheet. As you can see, we've already gotten started applying some styles to the page.</p>
<p>As a quick exercise, go preview the page in your browser right now, and open up Dev Tools. In the Elements tab, notice that one of the things you can inspect is the styles of your elements. You can even change the styles and see the results immediately! Spend a minute playing and tinkering with the styles we have added.</p>
=======
 * branch            studio4    -&gt; FETCH_HEAD
   74b1223..fe10c4f  studio4    -&gt; upstream/studio2</code></pre>
<p>Then, checkout a new local branch:</p>
<pre><code class="language-nohighlight">$ git checkout -b studio4-my-work upstream/studio4
Branch studio4-my-work set up to track remote branch studio4 from upstream.
Switched to a new branch 'studio4-my-work'</code></pre>
<h3 id="a-brief-tour">A Brief Tour</h3>
<p>There are only a few minor changes since last time, in just the <code>flicklist.js</code> file.</p>
<p>First, notice that the <code>searchMovies</code> function has a bunch of TODOs, and its <code>success</code> callback no longer has any code (aside from a <code>console.log</code> statement). </p>
<p>The other small thing to notice is that, in a few places, a line that previously looked something like this:</p>
<pre><code class="language-js">var itemView = $("&lt;li&gt;&lt;/li&gt;")
   .attr("class", "list-group-item")
   .append(title)
   .append(overview)
   .append(button);</code></pre>
<p>now looks more like this:</p>
<pre><code class="language-js">var itemView = $("&lt;li&gt;&lt;/li&gt;")
   .attr("class", "list-group-item")
   .append( [title, overview, button] );</code></pre>
<p>The jQuery <code>append</code> function actually allows you to the option of passing in an array of child elements, and it will append each of them in the same order that they appear in the array. This simply allows us to make our code a bit more concise. Woohoo!</p>
>>>>>>> upstream/master
<h3 id="assignment">Assignment</h3>
<p>Work your way through the TODOs in the source code. The tasks are numbered. You should work on them in the order prescribed, as follows:</p>
<h5 id="0-api-key">0. API key</h5>
<p>As usual, add your api key to the object near the top of <code>flicklist.js</code>.</p>
<<<<<<< HEAD
<h5 id="1-add-a-description-paragraph-to-each-browselist-item">1. Add a Description Paragraph to Each Browselist Item</h5>
<p>On the browse list, let's spice up those list items by displaying some more data about the movies. Using jQuery, create a <code>&lt;p&gt;</code> with a description of the movie's plot. You can find this description as a string somewhere inside the movie object. Just as the title is accessbile via the property <code>movie.original_title</code>, the description is a different property. What's the name of the property? You'll have to use a <code>console.log</code> statement to poke around and find out. (It's not <code>movie.description</code>). Once you have created the paragraph, append it to <code>itemView</code> below the title and above the &quot;Add to Watchlist&quot; button.</p>
<h5 id="2-disable-buttons">2. Disable Buttons</h5>
<p>Next, implement this feature: an &quot;Add to Watchlist&quot; button should be disabled if the movie in question is already present in the user's watchlist. </p>
<p>To determine whether the movie is already present, you can use the javascript array function <code>indexOf</code>, which returns the index of a thing in an array, unless the thing is not found, in which case <code>-1</code> is returned. For example:</p>
<pre><code class="language-js">var nums = [0, 7, 5, 2];
nums.indexOf(5) // returns 2
nums.indexOf(5000) // returns -1</code></pre>
<p>To disable the button, you can use jQuery's <code>prop</code> function, e.g.</p>
<pre><code class="language-js">var nuclearReactor = $("#nuclear-reactor");
nuclearReactor.prop("disabled", true);</code></pre>
<p>Once you have this working, take a quick note of the CSS rule we used in order to achive the visual effect. We lower the <code>opacity</code> property (in otherwords, transparency) of disabled buttons. In order to select for only disabled buttons, we used the <code>:disabled</code> <a href="http://www.w3schools.com/css/css_pseudo_classes.asp" target="_blank">pseudoclass</a>.</p>
<h5 id="3-give-watchlist-items-a-class-attribute">3. Give Watchlist Items a Class Attribute</h5>
<p>Next, it's time to apply some styles to thosewatchlist <code>&lt;li&gt;</code>s, so that they are big orange bricks. But first, in order to do that, we'll need to give them a <code>class</code> attribute, so that our CSS can select them. Inside the <code>render</code> function, within the <code>forEach</code> iteration over <code>model.watchlistItems</code>, use the jQuery <code>attr</code> function to give the <code>itemView</code> variable a class of <code>"item-watchlist"</code>.</p>
<p>Verify that you succeeded as follows: In your browser window, add some movies to the watchlist. Then, open up the dev tools, go to the Console tab, and type this:</p>
<pre><code class="language-js">$(".item-watchlist")</code></pre>
<p>followed by the Enter key. You should see an array with some <code>&lt;li&gt;</code>s inside it, one for each watchlist item! You should not see an empty array, i.e. <code>[]</code>.</p>
<h5 id="4-style-the-watchlist-items-as-orange-bricks">4. Style the Watchlist Items as Orange Bricks</h5>
<p>Now that your watchlist items have a class attribute, you can apply styles to them. Open up <code>styles.css</code>, and create a new class selector for elements with the class &quot;item-watchlist&quot; (hint: CSS selectors are the same as jQuery selectors). Add some styles until your watchlist tiems resemble those orange bricks from the demo. One style you'll definitely want to apply is:</p>
<pre><code class="language-css">display: inline-block;</code></pre>
<p>This is what enables that left-to-right flow pattern. (See this <a href="http://stackoverflow.com/questions/8969381/what-is-the-difference-between-display-inline-and-display-inline-block" target="_blank">Stack Overflow post</a> for a nice overview of the differences between <code>block</code>, <code>inline</code>, and <code>inline-block</code>).</p>
<p>You'll also need to apply a few other styles: a lot of padding, a little bit of margin on <a href="http://stackoverflow.com/questions/356759/a-mnemonic-for-the-order-of-css-margin-and-padding-shorthand-properties" target="_blank">just the right and bottom edges</a>, and the colors obviously need to change.</p>
<h5 id="5-change-the-text-color-to-gray">5. Change the Text Color to Gray</h5>
<p>Next, create a css rule that will set a baseline default of gray for the color of all text in the body of the document. To accomplish this, you only have to make one rule! you don't have to go and start adding declarations to each and every selector in the CSS file. You simply have to apply the style to some common container, and then all descendants of the container will automatically inherit the same style.</p>
<h5 id="6-add-a-form-to-the-page">6. Add a Form to the Page</h5>
<p>The last new feature we need to add is a <code>&lt;form&gt;</code>, with a text field and a submit button, via which users can search for particular movies. </p>
<p>The first step to implementing this feature is simply to add the form to <code>index.html</code>. Go ahead and do that now. Your form does not need any of the usual attributes, like <code>action</code> or <code>method</code>, because we are going to intercept and cancel its submit event anyway. The one attribute you should give the form is an <code>id</code> equal to <code>"form-search"</code>. Inside the form, you should have two <code>&lt;input&gt;</code>s: one, a text field, and the other, a submit button.</p>
<h5 id="7-style-the-buttons">7. Style the Buttons</h5>
<p>Very briefly, let's jump back over to <code>styles.css</code> and apply some styles to the buttons, both the &quot;Add to Watchlist&quot; buttons and the &quot;Search by Title&quot; submit button on the form</p>
<p>Notice how the selector here includes <code>input[type=submit]</code> in order to select for both normal buttons and submit buttons on forms.</p>
<h5 id="8-add-a-submit-handler-to-the-form">8. Add a Submit Handler to the Form</h5>
<p>Once your form is present on the page, the next step is to give it a submit handler. We want to specify that when the user presses the submit button, the <code>searchMovies</code> function (which you will implement next) gets invoked, using the search term that the user typed in, with <code>render</code> as the callback to be executed after receiving a response from the api.</p>
<p>As you can see, we use jQuery's <code>.submit</code> function, which is very similar to <code>.click</code> in that it allows you to pass in a function to be executed whenever a form is submitted. You must:</p>
<ul>
<li>A: fill in the jQuery selector so that we are calling <code>.submit</code> on our form</li>
<li>B: within the submit handler function, fill in another jQuery selector to figure out what the user typed into the search bar. For this task you must use a selector very similar to the example in <code>styles.css</code> for the submit button (<code>input[type=submit]</code>).</li>
<li>C: also within the body of the submit handler function, invoke the <code>searchMovies</code> function and pass in the arguments it needs.</li>
</ul>
<p>If you've done everything correctly you should be able to see some output on the console. Search for &quot;cocounut&quot; and you should see a log statement that reads: &quot;searching for movies with 'coconut' in their title...&quot;.</p>
<h5 id="9-implement-the">9. Implement the <code>searchMovies</code> Function</h5>
<p>Finally, let's implement this function in <code>flicklist.js</code>. As a starting point, you can follow in the footsteps of the <code>discoverMovies</code> function. But a few things must be different:</p>
<ul>
<li>You will send the request to a slightly different url (we want to talk to a different &quot;endpoint&quot; on the API)</li>
<li>Your <code>data</code> object must include another property, <code>query</code>, whose value will be the search term the user typed in (e.g. &quot;coconut&quot;)</li>
</ul>
=======
<h4 id="1-add-a-second-argument-to-the">1. Add A second argument to the <code>discoverMovies</code> function.</h4>
<p>In the <code>discoverMovies</code> function, we now want to specify keywords in our request. Before we can do that, we need to accept another argument so that the caller of the function can decide what those keywords are. Add a second argument called <code>keywords</code> in the function declaration.</p>
<h4 id="2-include-keywords-in-discover-request">2. Include Keywords in Discover Request</h4>
<p>Now that the <code>discoverMovies</code> function knows what keywords to use, the next task is to use them. When you make the AJAX request to the API, include these keywords. The <code>data</code> object is where you can specify additional things about the request. </p>
<p>When you think you're done, verify that this is working by doing a little test:</p>
<p>Open up the developer tools and navigate to the Console tab. Notice that you can click on the console and start typing. The console, in addition to displaying your <code>console.log</code> statements, also allows you to test code snippets and see the results.
Type the following line:</p>
<pre><code class="language-js">discoverMovies(render, "3133|185633|3630|7010");</code></pre>
<p>and press enter. If all goes well, you should see your browse list reload with some Vampire flicks!</p>
<h4 id="3-change-url-of-search-request">3. Change Url of Search Request</h4>
<p>Now that <code>discoverMovies</code> is working, let's fix <code>searchMovies</code>. This function's job is going to change now. Rather than grab a bunch of movies directly from the API, our search function will simply request those keyword IDs from the API. Once the keyword IDs come back, we will invoke <code>discoverMovies</code> and pass the keywords along as an argument.</p>
<p>The first step is to change the url so that we are talking to a different endpoint. Instead of the <code>/movie</code> service, we want the one that handles requests for keywords.</p>
<p>Verify that your code is working correctly by entering a search term and submitting the form, and then opening up the console. The <code>success</code> callback contains this line:</p>
<pre><code class="language-js">console.log(response);</code></pre>
<p>so the response should show up in the console once you submit the form. </p>
<p>Poke around inside the object and you shoudl see <code>.results</code> property like usual, but unlike previous responses, this array of results should not contain objects representing movies. Istead it should contain objects representing &quot;keywords&quot;.</p>
<h4 id="4-handle-search-response-by-invoking-discover">4. Handle Search Response by Invoking Discover</h4>
<p>Now that your search function is receiving keywords, the next step is to do something with those keywords. Basically, you want to collect those keywords into a string, and then pass that string over to <code>discoverMovies</code> and let it work its magic, taking advantage of the work you've already done over there.</p>
<h5 id="4a-get-an-array-of-ids">4a. Get an Array of IDs</h5>
<p>So we have an array of keywords inside that that <code>response</code> object, but notice that each keyword object contains two properties: a <code>.id</code>, representing the id number, and a <code>.name</code>, representing the actual search term. In this case we don't care about the name, we just want the pure ids. This is the prefect chance to use the array <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" target="_blank">map</a> function, which lets you create a new array from an old one by &quot;mapping&quot; each of its elements to something else. Use the <code>map</code> function to convert <code>response.results</code> into an array of ids, and store the result in a variable called <code>keywordIDs</code>.</p>
<h5 id="4b-convert-the-array-to-a-string">4b. Convert the Array to a String</h5>
<p>So now we have an array of ids. But ultimately what we want is a <em>string</em> containing those ids. Specifically, the API specifies that we need a string in which the id numbers are interleaved with either commas or pipe <code>"|"</code> characters, e.g. <code>"3133,185633,3630,7010"</code> or <code>"3133|185633|3630|7010"</code>. </p>
<p>There is a quick, fancy way of producing this string: a magic array method called <code>join</code>, which does exactly what we want: creates a string with each element of the array, separated by commas or some other string. Check out the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join" target="_blank">documentation for the join function</a>.</p>
<p>Use the join function to create a variable called <code>keywordsString</code> whose value is the string we are trying to produce.</p>
<h5 id="4c-use-an-quotorquot-string-instead-of-an-quotandquot-string">4c. Use an &quot;Or&quot; String Instead of an &quot;And&quot; String</h5>
<p>Rather than a comma-separated string, we want to insert a pipe character in between the ids. the secret to accomplishing this is that although the <code>join</code> function uses a comma character as the default content to intersperse between the elements, <code>join</code> also accepts an optional argument, where you can specify some other custom string. </p>
<p>Go ahead and change your call to <code>join</code> to take advantage of this.</p>
<h5 id="4d-invoke-discover">4d. Invoke Discover</h5>
<p>Finally, invoke the <code>discoverMovies</code> function! Pass along the <code>callback</code> variable that was passed in, and the string holding the keywords, which you constructed above.</p>
<p>Confirm that everything is working by opening your page in the browser and searching for some topics! You should see relevant movies (regardless of title) appear in the browse list.</p>
<h4 id="5-change-button-text">5. Change Button Text</h4>
<p>This last step is very easy. Our search button needs an update! Change the text from &quot;Search by Title&quot; to &quot;Search by Topic&quot;</p>
>>>>>>> upstream/master
<h3 id="how-to-submit">How to Submit</h3>
<p>Just like last time, commit your work on Git and push to a new branch on your GitHub repo. Then, submit a link to your repo on Vocareum.</p>
<h5 id="commit-and-push">Commit and Push</h5>
<p>If you run the <code>git status</code> command, you should see that you now have <em>unstaged</em> changes:</p>
<pre><code class="language-nohighlight">$ git status
<<<<<<< HEAD
On branch studio2-my-work
=======
On branch studio4-my-work
>>>>>>> upstream/master
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

<<<<<<< HEAD
        modified:   css/styes.css
=======
>>>>>>> upstream/master
        modified:   index.html
        modified:   js/flicklist.js

no changes added to commit (use "git add" and/or "git commit -a")</code></pre>
<p>We can stage these changes with the <code>add</code> command:</p>
<pre><code class="language-nohighlight">$ git add --all</code></pre>
<p>The <code>--all</code> adds all of the unstaged files, so you don't have to type them one by one.</p>
<p>If you check your status again now, you should see:</p>
<pre><code class="language-nohighlight">$ git status
<<<<<<< HEAD
On branch studio2-my-work
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)
        modified:   css/styes.css
        modified:   index.html
        modified:   js/flicklist.js</code></pre>
<p>All the files are now staged for committing. Go ahead and make a commit, using the -m flag to remind your future self (and others looking at your code) what changes you made during this commit:</p>
<pre><code class="language-nohighlight">$ git commit -m "finish FlickList 2 studio"
[studio2-my-work 46db232] finish FlickList 2 studio
=======
On branch studio4-my-work
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)
        modified:   index.html
        modified:   js/flicklist.js</code></pre>
<p>All the files are now staged for committing. Go ahead and make a commit, using the -m flag to remind your future self (and others looking at your code) what changes you made during this commit:</p>
<pre><code class="language-nohighlight">$ git commit -m "finish FlickList 4 studio"
[studio2-my-work 46db232] finish FlickList 4 studio
>>>>>>> upstream/master
 2 files changed, 2 insertions(+), 2 deletions(-)</code></pre>
<p>The convention is to write your commit messages using the present tense rather than past tense (e.g. &quot;finish&quot; rather than &quot;finished&quot;).</p>
<p>If you check your status one more time, you should see this:</p>
<pre><code class="language-nohighlight">$ git status
<<<<<<< HEAD
On branch studio2-my-work
nothing to commit, working directory clean</code></pre>
<p>Finally, <em>push</em> your changes to your remote repo:</p>
<pre><code class="language-nohighlight">$ git push origin studio2-my-work
=======
On branch studio4-my-work
nothing to commit, working directory clean</code></pre>
<p>Finally, <em>push</em> your changes to your remote repo:</p>
<pre><code class="language-nohighlight">$ git push origin studio4-my-work
>>>>>>> upstream/master
Counting objects: 62, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (20/20), done.
Writing objects: 100% (22/22), 2.36 KiB | 0 bytes/s, done.
Total 22 (delta 6), reused 0 (delta 0)
To https://github.com/jharvard/flicklist.git
<<<<<<< HEAD
 * [new branch]      studio2-my-work -&gt; studio2-my-work</code></pre>
<p>If you go back and revisit github.com/jharvard/flicklist, you should now see your new branch up there! Specificially, near the top-left of the screen, you should see a dropdown menu that says &quot;Branch: master&quot;. Click that dropdown and you should see an option for &quot;studio2-my-work&quot;. Click on that branch, and you should now see the code you just worked on. Copy the current url in your browser's address bar (you are about to paste that url into Vocareum).</p>
<h5 id="submit-on-vocareum">Submit on Vocareum</h5>
<p>On Vocareum, click the assignment titled <strong>Studio: FlickList 2</strong>. In your <code>/work</code> directory you should see a file called <code>studio2.txt</code>. Open up this file and fill in the link to your work on GitHub.</p>
=======
 * [new branch]      studio4-my-work -&gt; studio4-my-work</code></pre>
<p>If you go back and revisit github.com/jharvard/flicklist, you should now see your new branch up there! Specificially, near the top-left of the screen, you should see a dropdown menu that says &quot;Branch: master&quot;. Click that dropdown and you should see an option for &quot;studio4-my-work&quot;. Click on that branch, and you should now see the code you just worked on. Copy the current url in your browser's address bar (you are about to paste that url into Vocareum).</p>
<h5 id="submit-on-vocareum">Submit on Vocareum</h5>
<p>On Vocareum, click the assignment titled <strong>Studio: FlickList 4</strong>. In your <code>/work</code> directory you should see a file called <code>studio4.txt</code>. Open up this file and fill in the link to your work on GitHub.</p>
>>>>>>> upstream/master
                </section>

            </div>
        </main>

        <footer>
            <div class="container-fluid">
                <p class="text-muted">
                    website generated with <a href="http://couscous.io" title="Markdown website generator">Couscous</a>
                </p>
            </div>
        </footer>

        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <script src="//yastatic.net/highlightjs/8.2/highlight.min.js"></script>

        <script>
            $(function() {
                $("section>h1").wrap('<div class="page-header" />');
                // Syntax highlighting
                hljs.initHighlightingOnLoad();
            });
        </script>

    </body>
</html>
